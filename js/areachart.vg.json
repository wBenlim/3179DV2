{
  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
  "description": "area chart showing Gross Regional Product (2014–2024) across 4 regions.",
  "title": "Gross Regional Product (2014–2024) by Region",

  "data": {
    "url": "https://raw.githubusercontent.com/wBenlim/3179DV2/main/FIT3179DV2/data/Dv2dataset1.csv"
  },

  "transform": [
    {
      "filter": "datum.Region == 'GEELONGANDTHEBELLARINE' || datum.Region == 'PENINSULA' || datum.Region == 'WESTERNGRAMPIANS' || datum.Region == 'YARRAVALLEYANDTHEDANDENONGRANGES'"
    },
    {"filter": "datum.label == 'Grossregionalproductinmillions'"},
    {
      "fold": [
        "2014", "2015", "2016", "2017", "2018",
        "2019", "2020", "2021", "2022", "2023", "2024"
      ],
      "as": ["Year", "Value"]
    },
    {"calculate": "toNumber(datum.Value)", "as": "Value"}
  ],

  "facet": {
    "field": "Region",
    "type": "nominal",
    
    "title": "Region"
  },

  "columns": 2,

  "spec": {
    "mark": {
      "type": "area",
      "color": "#1f77b4",
      "opacity": 0.8
    },
    "encoding": {
      "x": {
        "field": "Year",
        "type": "ordinal",
        "title": null
      },
      "y": {
        "field": "Value",
        "type": "quantitative",
        "title": null
      },
      "tooltip": [
        {"field": "Region", "title": "Region"},
        {"field": "Year", "title": "Year"},
        {"field": "Value", "title": "GRP (millions)"}
      ]
    },
    "width": 200,
    "height": 120
  },

  "resolve": {"scale": {"y": "shared"}}
}
